---
id: et-6e83
status: open
deps: []
links: []
created: 2026-02-01T05:44:00Z
type: task
priority: 1
assignee: Bruce Mitchener
parent: et-7452
tags: [vm, api, trace]
---
# PR1: Verified-only Vm::run + unified tracing

Remove all VM entrypoints that accept an unverified Program. Provide a single Vm::run entrypoint that executes VerifiedProgram with optional tracing.

## Design

API direction:
- Delete `Vm::run(&Program, ...)` and `Vm::run_traced(&Program, ...)`.
- Provide `Vm::run(&VerifiedProgram, entry, args, trace_mask: TraceMask, sink: Option<&mut dyn TraceSink>)`.
- `VerifiedProgram` remains a wrapper in this PR (no decoded caching yet).

Branch naming: `et-tagless/pr1-verified-only-run`.

## Acceptance Criteria

- No public API executes `Program` without verification.
- Tracing and non-tracing share one entrypoint.
- Existing tests/benches updated accordingly.
