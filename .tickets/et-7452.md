---
id: et-7452
status: open
deps: []
links: []
created: 2026-02-01T05:43:54Z
type: epic
priority: 1
assignee: Bruce Mitchener
parent: et-8de9
tags: [vm, verifier, perf, no_std]
---
# Verified-only VM + tagless regs

Make VM execute only verified bytecode and remove tag checks from the hot loop via verifier-lowered, register-classed execution artifacts.

## Design

Key decisions:
- Remove unverified execution entrypoints entirely.
- Forbid `ValueType::Any` in verified programs; iteratively remove from the surface area.
- Host ABI takes slices (`&[u8]`, `&str`) for arguments; returns owned bytes/str initially.
- Verified execution artifact is internal-only (not serialized).
- Keep `no_std + alloc`; avoid new deps unless necessary (`hashbrown` ok if needed).
- Single `Vm::run` entrypoint takes `VerifiedProgram` plus optional tracing (`TraceMask` + `Option<TraceSink>`).
- Effects use a dedicated `Effect` register class (future multi-channel friendly).
- Bytes/str arenas are per-run initially.

## Acceptance Criteria

- No public execution path accepts unverified `Program`.
- Verified interpreter loop can become tagless after reg-class split.
- `cargo fmt` / `cargo clippy` / `cargo test` stay green per PR.
